Tracking bug for this work is http://xprint.mozdev.org/bugs/show_bug.cgi?id=3530
